(function(e){e.fn.slidebox=function(a){function l(){if(h())i()?m():n()}function n(){if(!(!h()||i())){k();e.isFunction(a.openBeforeFunc)&&a.openBeforeFunc(b.container,b.handle,b.contents);b.container.animate(a.position.css_open,a.speed,a.easing,function(){o();e.isFunction(a.openAfterFunc)&&a.openAfterFunc(b.container,b.handle,b.contents);j()})}}function m(){if(h()&&i()){k();e.isFunction(a.closeBeforeFunc)&&a.closeBeforeFunc(b.container,b.handle,b.contents);b.container.animate(a.position.css_close,
a.speed,a.easing,function(){p();e.isFunction(a.closeAfterFunc)&&a.closeAfterFunc(b.container,b.handle,b.contents);j()})}}function h(){return b.container.hasClass("ready")}function j(){b.container.removeClass("ready").addClass("ready")}function k(){b.container.removeClass("ready")}function i(){return b.container.hasClass("view")}function o(){b.container.removeClass("view").addClass("view")}function p(){b.container.removeClass("view")}function q(){if(b.parent.context.nodeName.toUpperCase()!="BODY")if(!b.parent.css("position")||
b.parent.css("position")=="static")b.parent.css("position","relative");if(a.axis=="x"){var c=a.space+"px",d=b.handle.outerWidth()-b.container.outerWidth()+"px",f=a.space+"px",g="0px";if(a.direction=="asc")if(a.fulcrum==0){a.position.css_close={top:c,left:d};a.position.css_open={top:f,left:g}}else{a.position.css_close={bottom:c,left:d};a.position.css_open={bottom:f,left:g}}else if(a.fulcrum==0){a.position.css_close={top:c,right:d};a.position.css_open={top:f,right:g}}else{a.position.css_close={bottom:c,
right:d};a.position.css_open={bottom:f,right:g}}c=b.contents.outerHeight();d=b.handle.outerHeight();c>d?b.handle.css("height",c-(d-b.handle.height())+"px"):b.contents.css("height",d-(c-b.contents.height())+"px")}else{c=b.handle.outerHeight()-b.container.outerHeight()+"px";d=a.space+"px";f="0px";g=a.space+"px";if(a.direction=="asc")if(a.fulcrum==0){a.position.css_close={top:c,left:d};a.position.css_open={top:f,left:g}}else{a.position.css_close={top:c,right:d};a.position.css_open={top:f,right:g}}else if(a.fulcrum==
0){a.position.css_close={bottom:c,left:d};a.position.css_open={bottom:f,left:g}}else{a.position.css_close={bottom:c,right:d};a.position.css_open={bottom:f,right:g}}}r===false?b.container.css("position","fixed"):b.container.css("position","absolute");b.container.css(a.position.css_close)}function s(){b.handle.bind(a.action,l)}if(a){a=e.extend({handle:null,contents:null,action:"click",axis:"x",direction:"asc",fulcrum:0,space:0,speed:300,easing:"swing",openBeforeFunc:null,openAfterFunc:null,closeBeforeFunc:null,
closeAfterFunc:null},a);a.position={};if(a.handle&&a.contents)if(!(a.axis!="x"&&a.axis!="y"))if(!(a.direction!="asc"&&a.direction!="desc"))if(!(a.fulcrum!=0&&a.fulcrum!=1)){var b={container:this,handle:a.handle.nodeType?a.handle:e(a.handle,this),contents:a.contents.nodeType?a.contents:e(a.contents,this),parent:e(this.parent().get(0))};if(!(!b.handle.length||!b.contents.length||!b.parent.length)){var r=!e.support.style&&typeof document.documentElement.style.maxHeight==="undefined";q();s();j()}}}}})(jQuery);
