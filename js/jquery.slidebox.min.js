!function($){$.fn.slidebox=function(configs){if(configs&&((configs=$.extend({handle:null,contents:null,action:"click",axis:"x",direction:"asc",fulcrum:0,space:0,speed:300,easing:"swing",openBeforeFunc:null,openAfterFunc:null,closeBeforeFunc:null,closeAfterFunc:null},configs)).position={},configs.handle&&configs.contents&&("x"==configs.axis||"y"==configs.axis)&&!("asc"!=configs.direction&&"desc"!=configs.direction||0!=configs.fulcrum&&1!=configs.fulcrum))){var selectors={container:this,handle:configs.handle.nodeType?configs.handle:$(configs.handle,this),contents:configs.contents.nodeType?configs.contents:$(configs.contents,this),parent:$(this.parent().get(0))};if(selectors.handle.length&&selectors.contents.length&&selectors.parent.length){var is_msie6=!$.support.style&&void 0===document.documentElement.style.maxHeight;!function(){var nodeName;nodeName=void 0===selectors.parent.context?selectors.parent[0].nodeName.toUpperCase():selectors.parent.context.nodeName.toUpperCase();"BODY"!==nodeName&&(selectors.parent.css("position")&&"static"!=selectors.parent.css("position")||selectors.parent.css("position","relative"));if("x"==configs.axis){var close_top=configs.space+"px",close_left=selectors.handle.outerWidth(!1)-selectors.container.outerWidth(!1)+"px",open_top=configs.space+"px",open_left="0px";"asc"==configs.direction?0==configs.fulcrum?(configs.position.css_close={top:close_top,left:close_left},configs.position.css_open={top:open_top,left:open_left}):(configs.position.css_close={bottom:close_top,left:close_left},configs.position.css_open={bottom:open_top,left:open_left}):0==configs.fulcrum?(configs.position.css_close={top:close_top,right:close_left},configs.position.css_open={top:open_top,right:open_left}):(configs.position.css_close={bottom:close_top,right:close_left},configs.position.css_open={bottom:open_top,right:open_left});var contentsHeight=selectors.contents.outerHeight(!1),handleHeight=selectors.handle.outerHeight(!1);handleHeight<contentsHeight?selectors.handle.css("height",contentsHeight-(handleHeight-selectors.handle.height())+"px"):selectors.contents.css("height",handleHeight-(contentsHeight-selectors.contents.height())+"px")}else{close_top=selectors.handle.outerHeight(!1)-selectors.container.outerHeight(!1)+"px",close_left=configs.space+"px",open_top="0px",open_left=configs.space+"px";"asc"==configs.direction?0==configs.fulcrum?(configs.position.css_close={top:close_top,left:close_left},configs.position.css_open={top:open_top,left:open_left}):(configs.position.css_close={top:close_top,right:close_left},configs.position.css_open={top:open_top,right:open_left}):0==configs.fulcrum?(configs.position.css_close={bottom:close_top,left:close_left},configs.position.css_open={bottom:open_top,left:open_left}):(configs.position.css_close={bottom:close_top,right:close_left},configs.position.css_open={bottom:open_top,right:open_left})}!1===is_msie6?selectors.container.css("position","fixed"):selectors.container.css("position","absolute");selectors.container.css(configs.position.css_close)}(),selectors.handle.bind(configs.action,toggle),enable()}}function toggle(){chkReady()&&(chkView()?function(){if(!chkReady()||!chkView())return;disable(),$.isFunction(configs.closeBeforeFunc)&&configs.closeBeforeFunc(selectors.container,selectors.handle,selectors.contents);selectors.container.animate(configs.position.css_close,configs.speed,configs.easing,function(){selectors.container.removeClass("view"),$.isFunction(configs.closeAfterFunc)&&configs.closeAfterFunc(selectors.container,selectors.handle,selectors.contents),enable()})}:function(){if(!chkReady()||chkView())return;disable(),$.isFunction(configs.openBeforeFunc)&&configs.openBeforeFunc(selectors.container,selectors.handle,selectors.contents);selectors.container.animate(configs.position.css_open,configs.speed,configs.easing,function(){selectors.container.removeClass("view").addClass("view"),$.isFunction(configs.openAfterFunc)&&configs.openAfterFunc(selectors.container,selectors.handle,selectors.contents),enable()})})()}function chkReady(){return selectors.container.hasClass("ready")}function enable(){selectors.container.removeClass("ready").addClass("ready")}function disable(){selectors.container.removeClass("ready")}function chkView(){return selectors.container.hasClass("view")}}}(jQuery);